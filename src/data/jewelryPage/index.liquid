<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
    <style>
        :root {
            --text-color: 12, 27, 84;
            --button-background: 12, 27, 84;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .slr-jewelry-container {
            padding: 30px 40px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            margin-right: calc(
                    (100vw - max(calc((100vw - calc(1600px - (40px) * 2)) / 2), 40px) * 2 -
                    24px * (20 - 1)) / 20
            );
            margin-left: calc(
                    (100vw - max(calc((100vw - calc(1600px - (40px) * 2)) / 2), 40px) * 2 -
                    24px * (20 - 1)) / 20
            );
            margin-bottom: 80px;
        }

        .slr-jewelry-container-left {
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: start;
            align-items: center;
        }

        .slr-jewelry-container-left .slr-product-image {
            width: 100%;
            height: 560px;
            background-color: #f7f8f9;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .slr-jewelry-container-left .slr-product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            cursor: zoom-in;
        }

        .slr-thumbnail-flex {
            width: 100%;
            max-width: 50vw;
            overflow-x: auto;
            display: flex;
            gap: 1rem;
            padding-bottom: 1rem;
            margin: 1rem auto 0;
        }

        .slr-thumbnail-btn {
            width: 6rem;
            height: 6rem;
            overflow: hidden;
            border: 2px solid transparent;
            background: #fff;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .slr-thumbnail-btn.locked {
            border-color: #222222 !important;
        }

        .slr-thumbnail-btn:hover {
            border-color: #222222;
        }

        .slr-thumbnail-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* 悬停预览样式 */
        .slr-thumbnail-container:hover .slr-hover-preview {
            opacity: 1;
            pointer-events: auto;
        }

        .slr-hover-preview {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-bottom: 0.5rem;
            width: 12rem;
            height: 12rem;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
        }

        .slr-jewelry-container-left .slr-product-preview-list img {
            width: 64px;
            height: 64px;
            cursor: pointer;
            padding: 2px;
        }

        .slr-jewelry-container-left .slr-product-preview-list img:hover {
            border: 1px solid #333;
            box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
            border-radius: 2px;
        }

        .slr-jewelry-container-left .slr-product-preview-list .selected {
            border: 1px solid #333;
            box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
            border-radius: 2px;
        }

        .slr-jewelry-container-right {
            color: rgba(var(--text-color));
        }

        .slr-jewelry-container-right .slr-product-content {
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(219, 221, 229);
            display: flex;
            flex-direction: column;
            justify-content: start;
            align-items: start;
            gap: 20px;
            margin-bottom: 40px;
        }

        .slr-jewelry-container-right .slr-product-content a {
            text-decoration: none;
            color: rgba(var(--text-color));
        }

        .slr-rating {
            width: 100%;
            display: flex;
            flex-direction: row;
            gap: 3px;
        }

        .slr-rating__stars {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            gap: 2px;
        }

        .slr-product-meta__vendor a {
            font-size: 14px;
            letter-spacing: 1px;
        }

        .slr-product-meta__title {
            font-size: 36px;
            letter-spacing: 2px;
        }

        .slr-price-list .slr-price {
            font-size: 38px;
        }

        .slr-product-meta__reference {
            width: 100%;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
        }

        .slr-product-meta__sku {
            color: rgba(var(--text-color), 0.7);
            font-size: 12px;
        }


        .slr-product-action-button {
            width: 100%;
            height: 52px;
            border-radius: 4px;
            border: none;
            font-size: 17px;
            letter-spacing: 2px;
            margin: 10px 0;
            font-weight: 600;
        }

        .slr-product-add-button {
            color: var(--text-color);
            background-color: #f7f7f7;
        }

        .slr-product-buy-button {
            background-color: rgb(var(--button-background));
            color: white;
        }

        .slr-option-group {
            margin-bottom: 1.5rem;
        }

        .slr-option-label {
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 0.75rem;
            display: block;
        }

        .slr-option-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .slr-option-radio {
            display: none;
        }

        .slr-option-btn {
            background: #fff;
            color: #000;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            transition: all 0.15s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            min-width: fit-content;
        }

        .slr-option-btn:hover {
            border-color: rgba(12, 27, 84);
        }

        .slr-option-radio:checked + .slr-option-btn {
            background: rgba(12, 27, 84);
            color: #fff;
            border-color: rgba(12, 27, 84);
        }

        .slr-quantity-group {
            margin-bottom: 1.5rem;
        }

        .slr-quantity-container {
            display: flex;
            align-items: center;
            width: 8rem;
            height: 2.5rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
        }

        .slr-quantity-btn {
            width: 2.5rem;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 1.25rem;
        }

        .slr-quantity-btn:first-child {
            border-right: 2px solid #e5e7eb;
        }

        .slr-quantity-btn:last-child {
            border-left: 2px solid #e5e7eb;
        }

        .slr-quantity-input {
            width: 3rem;
            height: 100%;
            text-align: center;
            border: none;
            outline: none;
            font-size: 1rem;
        }


        .slr-product-description {
            color: rgba(var(--text-color));
            font-size: 14px;
            font-weight: 500;
            letter-spacing: 1px;
            margin-top: 15px;
        }

        .slr-product-description a {
            color: rgba(var(--text-color));
        }

        .slr-product-aside {
            width: 100%;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            color: rgba(var(--text-color), 0.7);
        }

        .slr-product-share,
        .slr-product-share-list {
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }

        .slr-product-share-list a {
            color: rgba(var(--text-color), 0.7);
        }

        .slr-jewelry-description {
            width: 100%;
        }

        .slr-description-first {
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            justify-content: center;
            align-items: center;
            color: var(--text-color);
            background-color: #f7f8f9;
            gap: 20px;
        }

        .slr-description-first-left {
            width: 100%;
        }

        .slr-description-first-left img {
            width: 100%;
            height: 420px;
        }

        .slr-description-first-right {
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px;
            color: rgba(var(--text-color));
        }

        .slr-description-first-right .slr-first-content-main {
            font-size: 18px;
            margin-bottom: 20px;
        }

        .slr-description-first-right .slr-first-content-title {
            font-size: 30px;
            margin-bottom: 10px;
        }

        .slr-description-first-right .slr-first-content-des {
            width: 80%;
            margin: auto;
            font-size: 14px;
        }

        .slr-description-second {
            width: 100%;
            margin-top: 60px;
            margin-bottom: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 15px;
            color: rgba(var(--text-color));
        }

        .slr-description-second .slr-description-second-title {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 15px;
            text-align: center;
        }

        .slr-description-second-title .slr-second-title-content-main {
            font-size: 40px;
            font-weight: 600;
        }

        .slr-description-second-title .slr-second-title-content-des {
            width: 50%;
            margin: auto;
            font-size: 14px;
        }

        .slr-description-third {
            width: 100%;
            height: 500px;
            display: grid;
            grid-template-columns: 2fr 1fr;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        .slr-description-third-left {
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 15px;
            text-align: center;
            color: rgba(var(--text-color));
        }

        .slr-description-third-left .slr-description-third-content-main {
            font-size: 46px;
        }

        .slr-description-third-left .slr-description-third-content-des {
            width: 60%;
            margin: auto;
            font-size: 14px;
            letter-spacing: 1px;
        }

        .slr-description-third-right {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .slr-description-third-right .slr-mask {
            position: absolute;
            top: 0;
            right: 0;
            width: 480px;
            height: 480px;
            background-color: #ffe5db;
        }

        .slr-description-third-right img {
            position: absolute;
            top: 20px;
            right: 100px;
            width: 440px;
            height: 440px;
            margin: auto;
        }

        @media screen and (max-width: 740px) {
            .slr-description-first,
            .slr-jewelry-container {
                display: flex;
                flex-direction: column;
                padding: 0.5rem;
            }

            .slr-thumbnail-flex {
                max-width: 90%;
            }

            .slr-description-third {
                display: flex;
                flex-direction: column-reverse;
            }

            .slr-description-first {
                padding: 30px 0;
            }

            .slr-description-first img {
                height: 420px;
            }

            .slr-description-first .slr-description-first-right {
                gap: 0;
            }

            .slr-description-second-title .slr-second-title-content-main {
                font-size: 32px;
            }

            .slr-description-second-title .slr-second-title-content-des {
                width: 80%;
            }

            .slr-description-third .slr-description-third-content-main {
                font-size: 32px;
            }

            .slr-description-third .slr-description-third-content-des {
                width: 80%;
            }

            .slr-description-third-right .slr-mask {
                width: 100%;
                height: 350px;
            }

            .slr-description-third-right img {
                width: 300px;
                height: 300px;
                top: 50px;
                right: 20px;
            }
        }
    </style>
</head>
<body>
<main>
    <div class="slr-jewelry-container">
        <div class="slr-jewelry-container-left">
            <div class="slr-product-image">
                {% if product.featured_image %}
                    <img src="{{ product.featured_image | img_url: '800x800' }}"
                         class="slr-main-image" id="slr-main-image"
                         alt="{{ product.featured_image.alt | escape }}">
                {% else %}
                    <img src="https://via.placeholder.com/800x800?text=No+Image"
                         class="slr-main-image" id="slr-main-image" alt="No image available">
                {% endif %}
            </div>
            {% if product.images.size > 1 %}
                <div class="slr-thumbnail-flex">
                    {% for image in product.images %}
                        <div class="slr-thumbnail-container">
                            <button
                                    class="slr-thumbnail-btn {% if forloop.first %}locked{% endif %}"
                                    data-image="{{ image | img_url: '800x800' }}" data-alt="{{ image.alt | escape }}">
                                <img src="{{ image | img_url: '200x200' }}" class="slr-thumbnail-img"
                                     alt="{{ image.alt | escape }}">
                            </button>
                            <!-- 悬停预览 -->
                            <div class="slr-hover-preview">
                                <img src="{{ image | img_url: '400x400' }}" class="slr-thumbnail-img"
                                     alt="{{ image.alt | escape }}">
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class="slr-jewelry-container-right">
            <div class="slr-product-content">
                <h2 class="slr-product-meta__vendor">
                    <a href="/collections/meteorites">Meteorites</a>
                </h2>
                <h1 class="slr-product-meta__title">{{ product.title }}</h1>
                <div class="slr-price-list">
                    {% assign current_variant = product.selected_or_first_available_variant %}
                    {% if current_variant.compare_at_price > current_variant.price %}
                        <span class="slr-price" id="slr-current-price">{{ current_variant.price | money }}</span>
                        <span class="slr-price"
                              id="slr-compare-price">{{ current_variant.compare_at_price | money }}</span>
                    {% else %}
                        <span class="slr-price" id="slr-current-price">{{ current_variant.price | money }}</span>
                    {% endif %}
                </div>
                <div class="slr-product-meta__reference">
                    <div class="slr-rating">
                        <div
                                aria-label="4.333333333 out of 5.0 stars"
                                class="slr-rating__stars"
                                role="img"
                        >
                            <svg
                                    class="slr-icon icon--rating-star rating__star rating__star--full"
                                    fill="none"
                                    focusable="false"
                                    height="14"
                                    viewBox="0 0 14 13"
                                    width="14"
                            >
                                <path
                                        d="M7 0L8.6458 4.73475L13.6574 4.83688L9.66296 7.86525L11.1145 12.6631L7 9.8L2.8855 12.6631L4.33704 7.86525L0.342604 4.83688L5.3542 4.73475L7 0Z"
                                        fill="currentColor"
                                ></path>
                            </svg>
                            <svg
                                    class="slr-icon icon--rating-star rating__star rating__star--full"
                                    fill="none"
                                    focusable="false"
                                    height="14"
                                    viewBox="0 0 14 13"
                                    width="14"
                            >
                                <path
                                        d="M7 0L8.6458 4.73475L13.6574 4.83688L9.66296 7.86525L11.1145 12.6631L7 9.8L2.8855 12.6631L4.33704 7.86525L0.342604 4.83688L5.3542 4.73475L7 0Z"
                                        fill="currentColor"
                                ></path>
                            </svg>
                            <svg
                                    class="slr-icon icon--rating-star rating__star rating__star--full"
                                    fill="none"
                                    focusable="false"
                                    height="14"
                                    viewBox="0 0 14 13"
                                    width="14"
                            >
                                <path
                                        d="M7 0L8.6458 4.73475L13.6574 4.83688L9.66296 7.86525L11.1145 12.6631L7 9.8L2.8855 12.6631L4.33704 7.86525L0.342604 4.83688L5.3542 4.73475L7 0Z"
                                        fill="currentColor"
                                ></path>
                            </svg>
                            <svg
                                    class="slr-icon icon--rating-star rating__star rating__star--full"
                                    fill="none"
                                    focusable="false"
                                    height="14"
                                    viewBox="0 0 14 13"
                                    width="14"
                            >
                                <path
                                        d="M7 0L8.6458 4.73475L13.6574 4.83688L9.66296 7.86525L11.1145 12.6631L7 9.8L2.8855 12.6631L4.33704 7.86525L0.342604 4.83688L5.3542 4.73475L7 0Z"
                                        fill="currentColor"
                                ></path>
                            </svg>
                            <svg
                                    class="slr-icon icon--rating-star-half rating__star rating__star--half"
                                    fill="none"
                                    focusable="false"
                                    height="14"
                                    viewBox="0 0 14 13"
                                    width="14"
                            >
                                <path
                                        d="M7 0L8.6458 4.73475L13.6574 4.83688L9.66296 7.86525L11.1145 12.6631L7 9.8L2.8855 12.6631L4.33704 7.86525L0.342604 4.83688L5.3542 4.73475L7 0Z"
                                        fill="url(#rating-star-gradient-half)"
                                ></path>
                            </svg>
                        </div>
                        <div class="slr-rating__caption">3 reviews</div>
                    </div>
                    <div class="slr-product-meta__sku">SKU:<span>AE9784OX</span></div>
                </div>
            </div>
            {% for option in product.options_with_values %}
                <div class="slr-option-group">
                    <label class="slr-option-label">{{ option.name }}</label>
                    <div class="slr-option-buttons">
                        {% for value in option.values %}
                            <div>
                                <input type="radio" name="options[{{ option.name }}]"
                                       id="slr-{{ option.name | handleize }}-{{ value | handleize }}"
                                       value="{{ value }}"
                                       class="slr-option-radio" {% if forloop.first %}checked{% endif %}>
                                <label for="slr-{{ option.name | handleize }}-{{ value | handleize }}"
                                       class="slr-option-btn">
                                    <span>{{ value }}</span>
                                </label>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            {% endfor %}

            <div class="slr-quantity-group">
                <label class="slr-option-label">{{ settings.quantity_label | default: 'Quantity' }}</label>
                <div class="slr-quantity-container">
                    <button type="button" class="slr-quantity-btn" id="slr-decrease-btn">
                        <i class="ri-subtract-line">-</i>
                    </button>
                    <input type="text" name="quantity" class="slr-quantity-input"
                           value="1" min="1" id="slr-quantity">
                    <button type="button" class="slr-quantity-btn" id="slr-increase-btn">
                        <i class="ri-add-line">+</i>
                    </button>
                </div>
            </div>
            <button class="slr-product-add-button slr-product-action-button" type="submit">
                Add to cart
            </button>
            <button class="slr-product-buy-button slr-product-action-button" type="button">
                Buy it now
            </button>

            <div class="slr-product-description">
                {% comment %}{{ product.description }}{% endcomment %}
                <br/>
                <p style="margin-top: 20px">
                    This is a demo store. This product can be bought on
                    <a href="https://us.apm.mc/" target="_blank"><b>APM Monaco</b></a>
                </p>
            </div>

            <div class="slr-product-aside">
                <div class="slr-product-share">
                    <div class="slr-product-meta__share-label">Share</div>
                    <div class="slr-product-share-list">
                        <a
                                href="https://www.facebook.com/sharer.php?u=https://focal-theme-sapphire.myshopify.com/products/double-meteorites-stud-earrings-ae9784ox"
                                rel="noopener"
                                target="_blank"
                        >
                            <svg
                                    class="slr-icon icon--facebook"
                                    focusable="false"
                                    height="14"
                                    viewBox="0 0 9 17"
                                    width="8"
                            >
                                <path
                                        clip-rule="evenodd"
                                        d="M2.486 16.2084L2.486 8.81845H0L0 5.93845L2.486 5.93845L2.486 3.81845C2.38483 2.79982 2.73793 1.78841 3.45107 1.05407C4.16421 0.319722 5.16485 -0.0628415 6.186 0.00844868C6.9284 0.00408689 7.67039 0.0441585 8.408 0.128449V2.69845L6.883 2.69845C6.4898 2.61523 6.08104 2.73438 5.79414 3.01585C5.50724 3.29732 5.3803 3.70373 5.456 4.09845L5.456 5.93845H8.308L7.936 8.81845H5.46L5.46 16.2084H2.486Z"
                                        fill="currentColor"
                                        fill-rule="evenodd"
                                ></path>
                            </svg>
                        </a>

                        <a
                                href="https://pinterest.com/pin/create/button/?url=https://focal-theme-sapphire.myshopify.com/products/double-meteorites-stud-earrings-ae9784ox&amp;media=https://focal-theme-sapphire.myshopify.com/cdn/shop/products/ae9784ox_800x.jpg?v=1649776067&amp;description=This%20pair%20of%20Double%20M%C3%A9t%C3%A9orites%20stud%20earrings%20is%20inspired%20by%20the%20stars%20of%20the%20Mediterranean..."
                                rel="noopener"
                                target="_blank"
                        >
                            <svg
                                    class="slr-icon icon--pinterest"
                                    focusable="false"
                                    height="14"
                                    viewBox="0 0 12 16"
                                    width="10"
                            >
                                <path
                                        clip-rule="evenodd"
                                        d="M5.8042 0.00123531C8.79537 -0.0442356 10.6685 1.16769 11.5498 3.29299C11.8407 3.99433 12.1516 5.28439 11.9181 6.35474C11.825 6.78208 11.7985 7.22812 11.6726 7.63086C11.4163 8.4496 11.0829 9.17441 10.6413 9.79945C10.0418 10.6486 9.13196 11.2212 7.98951 11.5091C6.97899 11.7637 6.04959 11.3826 5.50954 10.9732C5.33747 10.843 5.10674 10.6728 5.04304 10.4377C5.03488 10.4377 5.0267 10.4377 5.01853 10.4377C4.97972 10.8669 4.81532 11.3224 4.69924 11.7135C4.53858 12.2545 4.50733 12.8146 4.3064 13.3208C4.08349 13.8828 3.81274 14.3978 3.52072 14.8776C3.36739 15.1292 2.94427 15.9904 2.63675 16C2.60311 15.9354 2.58964 15.9105 2.58761 15.796C2.48858 15.6383 2.55757 15.3724 2.51393 15.1578C2.44604 14.8236 2.39317 14.2217 2.46491 13.8824C2.46491 13.7038 2.46491 13.5248 2.46491 13.3465C2.54397 12.9786 2.54085 12.6015 2.63675 12.2494C2.84537 11.4824 2.96145 10.6699 3.17692 9.87611C3.38398 9.11352 3.57396 8.27939 3.74172 7.50321C3.77957 7.32789 3.56652 6.82389 3.52072 6.63572C3.37628 6.04186 3.48624 5.21874 3.66805 4.77269C3.89698 4.21111 4.56717 3.3535 5.43589 3.57359C6.13407 3.75039 6.57846 4.50528 6.34437 5.46192C6.09862 6.46589 5.7798 7.3653 5.5587 8.37035C5.50173 8.62933 5.59968 8.90442 5.65687 9.05958C5.86357 9.61934 6.49037 10.163 7.32652 9.95278C8.59396 9.63365 9.15431 8.48627 9.53645 7.24791C9.63981 6.91302 9.62743 6.59647 9.70831 6.22709C9.87894 5.44763 9.80648 4.28411 9.56098 3.67556C9.16753 2.70023 8.43329 2.07518 7.42471 1.73624C7.1465 1.68526 6.86819 1.63427 6.58988 1.58329C6.12397 1.47655 5.23532 1.63685 4.92023 1.73624C3.51171 2.18156 2.63952 2.92544 2.09658 4.26247C1.91177 4.71767 1.81046 5.17911 1.77741 5.81884C1.76913 5.8955 1.76094 5.97217 1.75278 6.04883C1.86153 6.62068 1.87259 6.99959 2.09658 7.42657C2.20715 7.63711 2.46971 7.8029 2.51393 8.06444C2.54001 8.2185 2.42705 8.45105 2.39125 8.57467C2.33705 8.76137 2.35676 8.97522 2.26844 9.13625C2.10873 9.42678 1.67383 9.20852 1.48275 9.08491C0.489307 8.44373 -0.329526 6.5895 0.132284 4.79837C0.20342 4.5218 0.206915 4.28118 0.304126 4.03285C0.906661 2.49554 1.80565 1.55101 3.10325 0.741098C3.58947 0.437749 4.24511 0.287354 4.84657 0.128885C5.16574 0.0863481 5.48503 0.0437917 5.8042 0.00123531Z"
                                        fill="currentColor"
                                        fill-rule="evenodd"
                                ></path>
                            </svg>
                        </a>

                        <a
                                class="slr-product-meta__share-button-item product-meta__share-button-item--twitter link tap-area"
                                href="https://twitter.com/share?text=Double%20M%C3%A9t%C3%A9orites%20Stud%20Earrings&amp;url=https://focal-theme-sapphire.myshopify.com/products/double-meteorites-stud-earrings-ae9784ox"
                                rel="noopener"
                                target="_blank"
                        >
                            <svg
                                    class="slr-icon icon--twitter"
                                    focusable="false"
                                    height="14"
                                    viewBox="0 0 20 16"
                                    width="17"
                            >
                                <path
                                        clip-rule="evenodd"
                                        d="M12.845 2.13398C14.0997 2.11363 14.7676 2.53229 15.4054 3.06445C15.9468 3.02216 16.6505 2.74528 17.065 2.55232C17.1993 2.48493 17.3337 2.41786 17.468 2.35046C17.2312 2.93602 16.9103 3.39474 16.417 3.74251C16.3074 3.81976 16.1987 3.92434 16.0613 3.97362C16.0613 3.97584 16.0613 3.97838 16.0613 3.98061C16.7643 3.97394 17.3441 3.6837 17.8947 3.52603C17.8947 3.52856 17.8947 3.5311 17.8947 3.53365C17.6055 3.95454 17.214 4.38147 16.7963 4.6876C16.6277 4.8103 16.4591 4.93301 16.2905 5.05571C16.2997 5.73696 16.2795 6.38704 16.1404 6.95989C15.3314 10.2888 13.1878 12.5491 9.7945 13.517C8.5761 13.8648 6.60702 14.0075 5.21102 13.6903C4.51872 13.5329 3.89334 13.3552 3.30644 13.1203C2.98052 12.9896 2.67854 12.8485 2.38972 12.6876C2.29496 12.6346 2.2001 12.5818 2.10522 12.5287C2.42018 12.5376 2.78846 12.6168 3.14052 12.5649C3.45896 12.5179 3.77128 12.53 4.06514 12.4712C4.79794 12.324 5.4486 12.1294 6.00916 11.829C6.2809 11.6834 6.69324 11.5124 6.88634 11.3026C6.52248 11.3083 6.19256 11.2311 5.9223 11.144C4.87436 10.8051 4.26436 10.1824 3.86752 9.2468C4.1851 9.27827 5.09982 9.35394 5.31368 9.18894C4.91398 9.16891 4.52956 8.95688 4.25478 8.7992C3.41184 8.31634 2.72438 7.50634 2.72954 6.26021C2.84022 6.30821 2.9509 6.35653 3.06148 6.40453C3.27324 6.48622 3.48848 6.52978 3.74112 6.57778C3.8478 6.59781 4.06114 6.65534 4.18362 6.6137C4.17836 6.6137 4.17308 6.6137 4.16782 6.6137C4.00476 6.43982 3.73902 6.32411 3.57512 6.1375C3.03438 5.52206 2.52758 4.57507 2.84812 3.44686C2.9294 3.16077 3.05842 2.90805 3.19586 2.67502C3.20114 2.67757 3.2064 2.67979 3.21168 2.68234C3.2746 2.80282 3.415 2.89152 3.50408 2.99229C3.78024 3.30573 4.1209 3.5877 4.46812 3.83629C5.65108 4.68347 6.71642 5.20386 8.42738 5.58946C8.86134 5.68706 9.36308 5.76176 9.88146 5.76238C9.73578 5.37424 9.78258 4.7461 9.89726 4.37035C10.1856 3.42557 10.8119 2.74402 11.7307 2.37907C11.9504 2.29197 12.1941 2.22838 12.4498 2.17722C12.5815 2.16291 12.7133 2.14861 12.845 2.13398Z"
                                        fill="currentColor"
                                        fill-rule="evenodd"
                                ></path>
                            </svg>
                        </a>

                        <a
                                class="slr-product-meta__share-button-item product-meta__share-button-item--mail link tap-area"
                                href="mailto:?&amp;subject=Double Météorites Stud Earrings&amp;body=https://focal-theme-sapphire.myshopify.com/products/double-meteorites-stud-earrings-ae9784ox"
                        >
                            <svg
                                    class="slr-icon icon--share"
                                    focusable="false"
                                    height="13"
                                    viewBox="0 0 18 18"
                                    width="13"
                            >
                                <path
                                        d="M17 1l-5.6 16-3.2-7.2M17 1L1 6.6l7.2 3.2M17 1L8.2 9.8"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="1.2"
                                ></path>
                            </svg>
                        </a>
                    </div>
                </div>
                <a>Need help?</a>
            </div>
        </div>
    </div>
    <div class="slr-jewelry-description">
        <div class="slr-description-first">
            <div class="slr-description-first-left">
                <img
                        alt=""
                        src="{{ product.media[0].src }}"
                />
            </div>
            <div class="slr-description-first-right">
                <p class="slr-first-content-main">the clasp</p>
                <h2 class="slr-first-content-title">An indispensable security</h2>
                <p class="slr-first-content-des">
                    This stone offers a brilliance comparable to that of the diamond but a
                    much more affordable price. That’s why Zirconium has become a favourite
                    material in jewellery. If you like to shine, you’ll love it.
                </p>
            </div>
        </div>
        <!--介绍2-->
        <div class="slr-description-second">
            <div class="slr-description-second-title">
                <p style="font-size: 18px">Shanon talks about</p>
                <h1 class="slr-second-title-content-main">The word of our stylist</h1>
                <p class="slr-second-title-content-des">
                    " I thought of these earrings as diamonds dotted on the ears, I wanted
                    to create a design that combines modernity and refinement. It took us
                    many months to make a jewel that seemed perfect to us. I think I can
                    proudly say that with these earrings we have come up with an extremely
                    successful piece of jewellery that any woman deserves to have in her
                    wardrobe. "
                </p>
            </div>
        </div>
        <!--介绍3-->
        <div class="slr-description-third">
            <div class="slr-description-third-left">
                <p style="font-size: 18px">About this Earrings</p>
                <h2 class="slr-description-third-content-main">How we designed this?</h2>
                <p class="slr-description-third-content-des">
                    The earrings are inspired by the Mediterranean starry sky. They were
                    designed by our designers and made by hand in our workshops. White
                    zirconia stones shine and will illuminate your face. Wear them with
                    other rings for a glamorous mix and match.
                </p>
            </div>
            <div class="slr-description-third-right">
                <div class="slr-mask"></div>
                <img
                        alt=""
                        src="{{ product.media[1].src }}"
                />
            </div>
        </div>
    </div>
</main>
<script>
    window.variants = {{ product.variants | json }};
    window.productOptions = {{ product.options_with_values | json }};
    // 获取店铺货币信息
    window.shopCurrency = {{ shop.currency | json }};
    window.shopMoneyFormat = {{ shop.money_format | json }};
</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const quantityInput = document.getElementById('slr-quantity');
        const decreaseBtn = document.getElementById('slr-decrease-btn');
        const increaseBtn = document.getElementById('slr-increase-btn');
        const mainImage = document.getElementById('slr-main-image');
        const thumbnailBtns = document.querySelectorAll('.slr-thumbnail-btn');
        const optionInputs = document.querySelectorAll('input[name^="options["]');
        const variants = window.variants;
        const productOptions = window.productOptions;
        const shopCurrency = window.shopCurrency || 'USD';

        // 从产品数据结构中获取选项名称
        const optionNames = productOptions.map(option => option.name);

        // 根据货币代码获取合适的地区设置
        function getLocaleForCurrency(currencyCode) {
            const currencyLocaleMap = {
                'CNY': 'zh-CN',
                'USD': 'en-US',
                'EUR': 'de-DE',
                'GBP': 'en-GB',
                'JPY': 'ja-JP',
                'KRW': 'ko-KR',
                'HKD': 'zh-HK',
                'TWD': 'zh-TW',
                'SGD': 'en-SG',
                'AUD': 'en-AU',
                'CAD': 'en-CA'
            };
            return currencyLocaleMap[currencyCode] || 'en-US';
        }

        // 创建货币格式化器
        const currencyFormatter = new Intl.NumberFormat(getLocaleForCurrency(shopCurrency), {
            style: 'currency',
            currency: shopCurrency,
            minimumFractionDigits: 2,
            maximumFractionDigits: 2
        });

        // 格式化价格的辅助函数
        function formatPrice(priceInCents) {
            const priceInUnits = priceInCents / 100;
            return currencyFormatter.format(priceInUnits);
        }

        let currentImageIndex = 0;
        const images = Array.from(thumbnailBtns).map(btn => ({
            src: btn.dataset.image,
            alt: btn.dataset.alt
        }));

        // 缩略图hover事件
        thumbnailBtns.forEach((btn, index) => {
            // 添加hover事件
            btn.addEventListener('mouseenter', function () {
                currentImageIndex = index;
                mainImage.src = images[index].src;
                mainImage.alt = images[index].alt;
                updateThumbnailSelection();
            });

            btn.addEventListener('mouseleave', function () {
                // 鼠标离开时保持当前选中的图片状态
                // 不需要做任何改变，保持当前状态
            });
        });

        function updateThumbnailSelection() {
            thumbnailBtns.forEach((btn, index) => {
                if (index === currentImageIndex) {
                    btn.classList.add('locked');
                } else {
                    btn.classList.remove('locked');
                }
            });
        }

        // 数量控制
        decreaseBtn.addEventListener('click', function () {
            let value = parseInt(quantityInput.value);
            if (value > 1) {
                quantityInput.value = value - 1;
            }
        });

        increaseBtn.addEventListener('click', function () {
            let value = parseInt(quantityInput.value);
            quantityInput.value = value + 1;
        });

        quantityInput.addEventListener('change', function () {
            if (this.value < 1) this.value = 1;
        });

        // 图片预览功能
        const detailImages = document.querySelectorAll('.detail-image');
        const body = document.body;

        if (!document.querySelector('.slr-preview-overlay')) {
            const previewOverlay = document.createElement('div');
            previewOverlay.className = 'slr-preview-overlay';
            const previewImage = document.createElement('img');
            previewImage.className = 'slr-preview-image';
            const closeButton = document.createElement('div');
            closeButton.className = 'slr-close-preview';
            closeButton.innerHTML = '<i class="ri-close-line text-2xl"></i>';
            previewOverlay.appendChild(previewImage);
            previewOverlay.appendChild(closeButton);
            body.appendChild(previewOverlay);

            detailImages.forEach(img => {
                img.addEventListener('click', function () {
                    previewImage.src = this.src;
                    previewOverlay.classList.add('active');
                    body.style.overflow = 'hidden';
                });
            });

            previewOverlay.addEventListener('click', function (e) {
                if (e.target === previewOverlay || e.target.closest('.slr-close-preview')) {
                    previewOverlay.classList.remove('active');
                    body.style.overflow = '';
                }
            });
        }

        // 监听选项变化，切换变体图片和价格
        optionInputs.forEach(input => {
            input.addEventListener('change', function () {
                console.log('选项变化');
                updateVariantImage();
            });
        });

        function updateVariantImage() {
            // 获取当前所有选中的值
            const selectedOptions = {};
            optionInputs.forEach(input => {
                if (input.checked) {
                    const name = input.name.match(/options\[(.+)\]/)[1];
                    selectedOptions[name] = input.value;
                }
            });

            // 找到匹配的变体
            const matchedVariant = variants.find(variant => {
                return variant.options.every((opt, idx) => {
                    const optionName = optionNames[idx];
                    console.log(optionName, opt, selectedOptions[optionName]);
                    return selectedOptions[optionName] === opt;
                });
            });

            // 更新价格和图片
            if (matchedVariant) {
                updatePrice(matchedVariant);

                // 如果有变体特定图片，切换主图
                if (matchedVariant.featured_image && matchedVariant.featured_image.src) {
                    // 正确处理URL参数
                    const baseUrl = matchedVariant.featured_image.src;
                    const separator = baseUrl.includes('?') ? '&' : '?';
                    mainImage.src = baseUrl + separator + 'width=800&height=800';
                    mainImage.alt = matchedVariant.featured_image.alt || '';

                    // 更新缩略图选择状态 - 找到对应的缩略图并选中
                    const variantImageSrc = matchedVariant.featured_image.src;
                    let foundThumbnail = false;

                    thumbnailBtns.forEach((btn, index) => {
                        const btnImageSrc = btn.dataset.image;
                        if (btnImageSrc && btnImageSrc.includes(variantImageSrc.split('?')[0])) {
                            currentImageIndex = index;
                            foundThumbnail = true;
                        }
                    });

                    // 如果没找到对应的缩略图，保持当前选择
                    if (!foundThumbnail) {
                        // 可以选择不更新currentImageIndex，或者设置为第一个
                        // currentImageIndex = 0;
                    }

                    updateThumbnailSelection();
                }
            }
        }

        // 更新价格显示
        function updatePrice(variant) {
            const currentPriceEl = document.getElementById('slr-current-price');
            const comparePriceEl = document.getElementById('slr-compare-price');
            const priceContainer = document.getElementById('slr-price-container');

            if (currentPriceEl) {
                // 使用原生货币格式化
                currentPriceEl.textContent = formatPrice(variant.price);
            }

            // 处理对比价格
            if (variant.compare_at_price && variant.compare_at_price > variant.price) {
                if (comparePriceEl) {
                    comparePriceEl.textContent = formatPrice(variant.compare_at_price);
                    comparePriceEl.style.display = 'block';
                }
            } else {
                if (comparePriceEl) {
                    comparePriceEl.style.display = 'none';
                }
            }
        }

        // 初始化锁定状态
        updateThumbnailSelection();

        // 初始化变体选择
        updateVariantImage();

        // Tab 切换功能
        const tabRadios = document.querySelectorAll('input[name="tab"]');
        const tabContents = document.querySelectorAll('.slr-tab-content');

        tabRadios.forEach(radio => {
            radio.addEventListener('change', function () {
                // 隐藏所有 tab 内容
                tabContents.forEach(content => {
                    content.classList.remove('active');
                });

                // 显示对应的 tab 内容
                const targetId = this.id + '-content';
                const targetContent = document.getElementById(targetId);
                if (targetContent) {
                    targetContent.classList.add('active');
                }
            });
        });

        // 初始化第一个 tab 为激活状态
        const firstTab = document.getElementById('slr-tab1');
        if (firstTab) {
            firstTab.checked = true;
            const firstContent = document.getElementById('slr-tab1-content');
            if (firstContent) {
                firstContent.classList.add('active');
            }
        }

        // 获取当前选中的变体ID
        function getCurrentVariantId() {
            const selectedOptions = {};
            optionInputs.forEach(input => {
                if (input.checked) {
                    const name = input.name.match(/options\[(.+)\]/)[1];
                    selectedOptions[name] = input.value;
                }
            });

            const matchedVariant = variants.find(variant => {
                return variant.options.every((opt, idx) => {
                    const optionName = optionNames[idx];
                    return selectedOptions[optionName] === opt;
                });
            });

            return matchedVariant ? matchedVariant.id : {{ product.selected_or_first_available_variant.id }};
        }

        // 获取当前数量
        function getCurrentQuantity() {
            return parseInt(quantityInput.value) || 1;
        }

        // 立即购买功能
        document.getElementById('slr-buy-now-btn').addEventListener('click', function () {
            const variantId = getCurrentVariantId();
            const quantity = getCurrentQuantity();

            fetch('/cart/add.js', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({id: variantId, quantity: quantity})
            })
                .then(function () {
                    window.location.href = '/checkout';
                })
                .catch(function (error) {
                    console.error('立即购买失败:', error);
                });
        });

        // 加入购物车功能
        document.getElementById('slr-add-to-cart-btn').addEventListener('click', function () {
            const variantId = getCurrentVariantId();
            const quantity = getCurrentQuantity();
            const button = this;
            const originalText = button.textContent;

            fetch('/cart/add.js', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({id: variantId, quantity: quantity})
            })
                .then(function (response) {
                    if (response.ok) {
                        return response.json();
                    } else {
                        throw new Error('添加失败');
                    }
                })
                .then(function (data) {
                    console.log('商品已加入购物车:', data);
                    // 只改变文字
                    button.textContent = '{{ settings.added_to_cart_text | default: "✔️Added" }}';

                    // 3秒后还原
                    setTimeout(function () {
                        button.textContent = originalText;
                    }, 3000);
                })
                .catch(function (error) {
                    console.error('加入购物车失败:', error);
                });
        });
    });
</script>
</body>
</html>
