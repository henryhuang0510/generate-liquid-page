<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #e9eee6;

        }

        .slr-container {
            width: 100%;
            display: grid;
            grid-template-columns: 3fr 2fr;
            gap: 30px;
            padding: 1.5rem;
        }


        .slr-container-left {
            width: 100%;
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1rem;
        }


        .slr-main-image {
            position: sticky;
            top: 10px;
            width: 100%;
            height: 100vh;
            object-fit: cover;
            cursor: zoom-in;
            border-radius: 5px;
            box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
        }

        .slr-thumbnail-grid {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            overflow-y: auto;
            padding-bottom: 1rem;
        }

        .slr-thumbnail-btn {
            width: 100%;
            height: 12rem;
            overflow: hidden;
            border: 2px solid transparent;
            background: #fff;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .slr-thumbnail-btn.locked {
            border-color: #222222 !important;
        }

        .slr-thumbnail-btn:hover {
            border-color: #222222;
        }

        .slr-thumbnail-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* 悬停预览样式 */
        .slr-thumbnail-container:hover .slr-hover-preview {
            opacity: 1;
            pointer-events: auto;
        }

        .slr-hover-preview {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-bottom: 0.5rem;
            width: 12rem;
            height: 12rem;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
        }


        .slr-container-right {
            position: sticky;
            top: 10px;
            width: 100%;
            height: 1343px;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .slr-container-right-label {
            color: #757575;
        }

        .slr-container-right-title {
            font-weight: bold;
            font-size: 2rem;
            color: #3d3d3d;
        }

        .slr-container-right-description {
            font-size: 0.8rem;
            color: #757575;
        }

        .slr-container-right-icon {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .slr-right-icon-item {
            display: grid;
            grid-template-columns: 20px 1fr;
            justify-content: space-between;
            align-items: center;
            gap: 0.5rem;
        }

        .slr-right-icon-item img {
            width: 100%;
            height: 100%;
        }

        .slr-right-icon-item p {
            color: #757575;
        }

        .slr-option-group {
            margin-bottom: 1.5rem;
        }

        .slr-option-label {
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 0.75rem;
            display: block;
        }

        .slr-option-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .slr-option-radio {
            display: none;
        }

        .slr-option-btn {
            background: #fff;
            color: #000;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            transition: all 0.15s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            min-width: fit-content;
        }

        .slr-option-btn:hover {
            border-color: #222222;
        }

        .slr-option-radio:checked + .slr-option-btn {
            background: #222222;
            color: #fff;
            border-color: #222222;
        }

        /* 数量选择器 */
        .slr-quantity-group {
            margin-bottom: 1.5rem;
        }

        .slr-quantity-container {
            display: flex;
            align-items: center;
            width: 8rem;
            height: 2.5rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
        }

        .slr-quantity-btn {
            width: 2.5rem;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: none;
            background: none;
            cursor: pointer;
            font-size: 1.25rem;
        }

        .slr-quantity-btn:first-child {
            border-right: 2px solid #e5e7eb;
        }

        .slr-quantity-btn:last-child {
            border-left: 2px solid #e5e7eb;
        }

        .slr-quantity-input {
            width: 3rem;
            height: 100%;
            text-align: center;
            border: none;
            outline: none;
            font-size: 1rem;
            background-color: #e9eee6;
        }

        .slr-right-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .slr-right-buttons button {
            padding: 0.8rem 0.6rem;
            border-radius: 0.4rem;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .slr-right-buttons .slr-right-card {
            background-color: #000000;
            color: white;
        }

        .slr-right-buttons .slr-right-buy {
            color: #000000;
        }


        .slr-right-tip {
            display: grid;
            grid-template-columns: 20px 1fr;
            justify-content: start;
            align-items: start;
            gap: 1rem;
        }

        .slr-right-tip-info {
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
            color: #757575;
        }

        .slr-right-tip-info a {
            margin-top: 0.5rem;
        }

        .slr-right-share {
            display: flex;
            flex-direction: row;
            gap: 1rem;
            color: #757575;
        }


        .slr-right-share a {
            color: #757575;
        }


        .slr-title {
            width: 100%;
            margin: 5rem auto 3rem;
            color: #3d3d3d;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
        }

        .slr-title h2 {
            font-size: 3rem;
            color: #3d3d3d;
        }

        .slr-info {
            width: 100%;
            padding: 1rem 2rem;
            margin-top: 2rem;
            background-color: #d6e1d1;
            display: flex;
            flex-direction: row;
            justify-content: space-evenly;
            align-items: center;
            gap: 2rem;
        }

        .slr-info-feature {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: start;
            gap: 1rem;
        }

        .slr-info-feature h3 {
            font-size: 3rem;
            color: #3d3d3d;
            margin: 1rem 0;
        }

        .slr-info-feature-item {
            width: 100%;
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 20px;
        }

        .slr-info-feature-item img {
            width: 74px;
            height: 74px;
        }

        .slr-info-image {
            width: 100%;
            height: 100%;
            max-height: 80vh;
        }

        .slr-right-summary {
            margin: 1rem 0;
            color: #3d3d3d;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .slr-right-accordion {
            width: 100%;
            padding: 0.3rem 0;
            border-bottom: 1px solid #cededc;
        }

        .slr-right-accordion-summary {
            width: 100%;
            list-style: none;
            cursor: pointer;
            padding: 1rem 0;
            font-weight: bold;
            position: relative;
        }

        .slr-right-accordion-summary::marker {
            content: "";
        }

        .slr-right-accordion-summary::after {
            content: ">";
            position: absolute;
            right: 16px;
            transition: transform 0.2s ease;
        }

        .slr-right-accordion-summary[open] .slr-right-accordion-summary::after {
            transform: rotate(90deg);
        }

        .slr-right-accordion-content {
            padding: 0 16px 16px;
            line-height: 1.5;
            color: #444;
        }

        @media screen and (width <= 64rem) {
            .slr-container, .slr-info {
                display: flex;
                flex-direction: column;
                padding: 0.4rem;
            }

            .slr-main-image {
                height: 100%;
                position: static;
            }

            .slr-container-left {
                display: flex;
                flex-direction: column;
            }

            .slr-container-right {
                position: static;
            }

            .slr-thumbnail-grid {
                height: auto;
                flex-direction: row;
            }

            .slr-thumbnail-btn {
                width: 8rem;
                height: 8rem;
                max-width: 95vw;
                overflow-x: auto;
            }

            .slr-title h2 {
                font-size: 1rem;
            }

            .slr-info-feature h3 {
                width: 100%;
                font-size: 1.5rem;
                text-align: center;
            }
        }
    </style>
</head>

<body>
<div class="slr-container">
    <div class="slr-container-left">
        {% if product.featured_image %}
            <img src="{{ product.featured_image | img_url: '800x800' }}"
                 class="slr-main-image" id="slr-main-image"
                 alt="{{ product.featured_image.alt | escape }}">
        {% else %}
            <img src="https://via.placeholder.com/800x800?text=No+Image"
                 class="slr-main-image" id="slr-main-image" alt="No image available">
        {% endif %}
        <div class="left-product-preview">
            {% if product.images.size > 1 %}
                <div class="slr-thumbnail-grid">
                    {% for image in product.images %}
                        <div class="slr-thumbnail-container">
                            <button
                                    class="slr-thumbnail-btn {% if forloop.first %}locked{% endif %}"
                                    data-image="{{ image | img_url: '800x800' }}" data-alt="{{ image.alt | escape }}">
                                <img src="{{ image | img_url: '200x200' }}" class="slr-thumbnail-img"
                                     alt="{{ image.alt | escape }}">
                            </button>
                            <!-- 悬停预览 -->
                            <div class="slr-hover-preview">
                                <img src="{{ image | img_url: '400x400' }}" class="slr-thumbnail-img"
                                     alt="{{ image.alt | escape }}">
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </div>
    <div class="slr-container-right">
        <div class="slr-container-right-label">
            Skin Experts
        </div>
        <div class="slr-container-right-title">
            {{ product.title }}
        </div>
        <div class="slr-container-right-description">
            {% comment %} {{ product.description }} {% endcomment %}
        </div>
        <div class="slr-container-right-icon">
            <div class="slr-right-icon-item">
                <img class="product-sales-point__icon"
                     src="//allure-demo-skin.myshopify.com/cdn/shop/files/eco-friendly-fabric.png?crop=center&amp;height=24&amp;v=1748528202&amp;width=24"
                     srcset="//allure-demo-skin.myshopify.com/cdn/shop/files/eco-friendly-fabric.png?crop=center&amp;height=24&amp;v=1748528202&amp;width=24 1x,
					//allure-demo-skin.myshopify.com/cdn/shop/files/eco-friendly-fabric.png?crop=center&amp;height=48&amp;v=1748528202&amp;width=48 2x"
                     alt="" width="24" height="24" aria-hidden="true" loading="lazy" decoding="async"
                     fetchpriority="low">
                <p class="product-sales-point__text">Vegan-Friendly</p>
            </div>
            <div class="slr-right-icon-item">
                <img class="product-sales-point__icon"
                     src="//allure-demo-skin.myshopify.com/cdn/shop/files/rabbit.png?crop=center&amp;height=24&amp;v=1748528240&amp;width=24"
                     srcset="//allure-demo-skin.myshopify.com/cdn/shop/files/rabbit.png?crop=center&amp;height=24&amp;v=1748528240&amp;width=24 1x,
					//allure-demo-skin.myshopify.com/cdn/shop/files/rabbit.png?crop=center&amp;height=48&amp;v=1748528240&amp;width=48 2x"
                     alt="" width="24" height="24" aria-hidden="true" loading="lazy" decoding="async"
                     fetchpriority="low">
                <p class="product-sales-point__text">Cruelty-Free</p>
            </div>
            <div class="slr-right-icon-item">
                <img class="product-sales-point__icon"
                     src="//allure-demo-skin.myshopify.com/cdn/shop/files/sulfate.png?crop=center&amp;height=24&amp;v=1748528275&amp;width=24"
                     srcset="//allure-demo-skin.myshopify.com/cdn/shop/files/sulfate.png?crop=center&amp;height=24&amp;v=1748528275&amp;width=24 1x,
					//allure-demo-skin.myshopify.com/cdn/shop/files/sulfate.png?crop=center&amp;height=48&amp;v=1748528275&amp;width=48 2x"
                     alt="" width="24" height="24" aria-hidden="true" loading="lazy" decoding="async"
                     fetchpriority="low">
                <p class="product-sales-point__text">Sulfate-Free</p>
            </div>
            {% for option in product.options_with_values %}
                <div class="slr-option-group">
                    <label class="slr-option-label">{{ option.name }}</label>
                    <div class="slr-option-buttons">
                        {% for value in option.values %}
                            <div>
                                <input type="radio" name="options[{{ option.name }}]"
                                       id="slr-{{ option.name | handleize }}-{{ value | handleize }}"
                                       value="{{ value }}"
                                       class="slr-option-radio" {% if forloop.first %}checked{% endif %}>
                                <label for="slr-{{ option.name | handleize }}-{{ value | handleize }}"
                                       class="slr-option-btn">
                                    <span>{{ value }}</span>
                                </label>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            {% endfor %}
            <div class="slr-quantity-group">
                <label class="slr-option-label">{{ settings.quantity_label | default: 'Quantity' }}</label>
                <div class="slr-quantity-container">
                    <button type="button" class="slr-quantity-btn" id="slr-decrease-btn">
                        <i class="ri-subtract-line">-</i>
                    </button>
                    <input type="text" name="quantity" class="slr-quantity-input"
                           value="1" min="1" id="slr-quantity">
                    <button type="button" class="slr-quantity-btn" id="slr-increase-btn">
                        <i class="ri-add-line">+</i>
                    </button>
                </div>
            </div>
            <div class="slr-right-buttons">
                <button class="slr-right-card" id="slr-add-to-cart-btn">add to cart</button>
                <button class="slr-right-add" id="slr-buy-now-btn">buy it now</button>
            </div>

            <div class="slr-right-tip">
                <svg class="icon" aria-hidden="true" focusable="false" width="20" height="20" viewBox="0 0 20 20"
                     fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8.724 18.8704C8.37188 18.8704 7.92713 18.7511 7.0365 18.2606C6.5308 17.9815 6.04242 17.672 5.574 17.334L3.50588 17.9543C3.4495 17.9711 3.38995 17.9745 3.33203 17.9641C3.27412 17.9536 3.21947 17.9297 3.1725 17.8943C2.05768 17.055 1.18793 15.9325 0.653629 14.6434C0.6308 14.5884 0.621408 14.5287 0.626231 14.4693C0.631055 14.4099 0.649955 14.3526 0.681367 14.302C0.712779 14.2513 0.755798 14.2089 0.806862 14.1782C0.857925 14.1476 0.915564 14.1295 0.975004 14.1255C2.06077 14.0577 3.12446 13.7886 4.11188 13.332C4.45475 13.1722 4.78672 12.9899 5.10563 12.7864C5.54712 12.4767 6.01404 12.205 6.50138 11.9741C6.80195 11.8431 7.10969 11.7292 7.42313 11.6329C7.45125 11.6254 7.4985 11.6126 7.55963 11.5946L7.62225 11.5751C7.68263 11.5564 7.7385 11.5388 7.87163 11.5039C7.998 11.4713 8.16788 11.43 8.37788 11.3869C8.85353 11.2729 9.34392 11.2329 9.83175 11.2684C10.0497 11.2844 10.2654 11.3232 10.4753 11.3843C10.7535 11.4675 11.0029 11.5691 11.244 11.667C11.503 11.778 11.7681 11.8744 12.0379 11.9558C12.2705 12.0224 12.5092 12.0655 12.7504 12.0844C12.9893 12.1073 13.2866 12.1358 13.4156 12.4515C13.4542 12.5583 13.4679 12.6724 13.4557 12.7853C13.4436 12.8982 13.4059 13.0068 13.3455 13.1029C13.1811 13.4229 12.9133 13.678 12.5857 13.8267C12.2581 13.9755 11.8898 14.0091 11.5406 13.9223C11.4371 13.9065 11.343 13.8885 11.2564 13.8683C11.3853 13.9609 11.5203 14.0446 11.6606 14.1188C12.1917 14.3986 12.7854 14.5384 13.3856 14.5249L14.5181 14.5245C14.6109 14.5246 14.7004 14.5591 14.7692 14.6213C14.8381 14.6835 14.8814 14.769 14.8909 14.8613C14.9282 15.1643 14.8753 15.4716 14.739 15.7448C14.3828 16.4355 13.4903 16.7865 12.4845 16.644C11.7172 17.2419 10.9292 17.8129 10.122 18.3559C9.74212 18.648 9.28681 18.8257 8.8095 18.8681C8.78103 18.8696 8.75252 18.8703 8.724 18.8704ZM5.64488 16.5461C5.72525 16.5462 5.80347 16.5721 5.868 16.62C6.35546 16.9817 6.86661 17.3103 7.398 17.6036C8.373 18.1403 8.64113 18.1256 8.76975 18.1193C9.11155 18.0825 9.43562 17.9485 9.7035 17.733C10.5413 17.1695 11.3581 16.5753 12.1523 15.9518C12.1945 15.9185 12.2435 15.8948 12.2958 15.8823C12.3481 15.8697 12.4025 15.8686 12.4553 15.879C13.1768 16.0193 13.857 15.8183 14.0723 15.4013C14.0931 15.3608 14.1097 15.3184 14.1218 15.2745H13.3946C12.6943 15.2901 12.001 15.1326 11.3761 14.816C10.7513 14.4994 10.2142 14.0335 9.81263 13.4595C9.65218 13.4487 9.49118 13.4488 9.33075 13.4599C9.26325 13.4648 9.207 13.4704 9.1695 13.4749C9.07069 13.4863 8.97139 13.458 8.89343 13.3963C8.81547 13.3345 8.76525 13.2443 8.75382 13.1455C8.74238 13.0466 8.77066 12.9473 8.83244 12.8694C8.89423 12.7914 8.98444 12.7412 9.08325 12.7298C9.12825 12.7245 9.19575 12.7178 9.279 12.7118C9.54075 12.694 9.80357 12.6999 10.0643 12.7294L10.0714 12.7301C10.348 12.7654 10.6179 12.8408 10.8728 12.954C11.1224 13.0632 11.3853 13.1395 11.6546 13.1809C11.7885 13.2151 11.9276 13.2244 12.0649 13.2083C12.2932 13.1497 12.4949 13.0152 12.6368 12.8269C12.3641 12.8028 12.0943 12.7526 11.8313 12.6769C11.5356 12.5882 11.2452 12.483 10.9613 12.3619C10.7261 12.2659 10.5041 12.1759 10.26 12.1028C10.1 12.0565 9.93562 12.0274 9.7695 12.0158C9.35264 11.9873 8.93388 12.0231 8.52788 12.1219C8.33363 12.1616 8.1765 12.1999 8.05988 12.2299C7.9455 12.2599 7.89788 12.2749 7.84613 12.2906L7.7745 12.3131C7.70325 12.3341 7.64813 12.3491 7.62563 12.3548C7.34845 12.4412 7.07606 12.5424 6.80963 12.6578C6.36151 12.8718 5.93191 13.1227 5.52525 13.4078C5.1735 13.6333 4.80706 13.835 4.42838 14.0115C3.52135 14.4323 2.55333 14.7066 1.56038 14.8241C2.02014 15.7391 2.67351 16.5431 3.47513 17.1803L5.53725 16.5623C5.57217 16.5518 5.60843 16.5461 5.64488 16.5461Z"
                          fill="currentColor"></path>
                    <path d="M17.125 15.25H12.8463C12.7468 15.25 12.6514 15.2105 12.5811 15.1402C12.5108 15.0698 12.4713 14.9745 12.4713 14.875C12.4713 14.7755 12.5108 14.6802 12.5811 14.6098C12.6514 14.5395 12.7468 14.5 12.8463 14.5H16.75V2.875H4.375V13.795C4.375 13.8945 4.33549 13.9898 4.26517 14.0602C4.19484 14.1305 4.09946 14.17 4 14.17C3.90054 14.17 3.80516 14.1305 3.73484 14.0602C3.66451 13.9898 3.625 13.8945 3.625 13.795V2.5C3.625 2.40054 3.66451 2.30516 3.73484 2.23484C3.80516 2.16451 3.90054 2.125 4 2.125H17.125C17.2245 2.125 17.3198 2.16451 17.3902 2.23484C17.4605 2.30516 17.5 2.40054 17.5 2.5V14.875C17.5 14.9745 17.4605 15.0698 17.3902 15.1402C17.3198 15.2105 17.2245 15.25 17.125 15.25Z"
                          fill="currentColor"></path>
                    <path d="M12.0625 5.875H9.0625C8.96304 5.875 8.86766 5.83549 8.79733 5.76517C8.72701 5.69484 8.6875 5.59946 8.6875 5.5V2.5C8.6875 2.40054 8.72701 2.30516 8.79733 2.23484C8.86766 2.16451 8.96304 2.125 9.0625 2.125H12.0625C12.162 2.125 12.2573 2.16451 12.3277 2.23484C12.398 2.30516 12.4375 2.40054 12.4375 2.5V5.5C12.4375 5.59946 12.398 5.69484 12.3277 5.76517C12.2573 5.83549 12.162 5.875 12.0625 5.875ZM9.4375 5.125H11.6875V2.875H9.4375V5.125Z"
                          fill="currentColor"></path>
                </svg>
                <div class="slr-right-tip-info">
                    <p>Pickup available at Brentwood</p>
                    <p>Usually ready in 24 hours</p>
                    <a>Check availability at other stores</a>
                </div>
            </div>
            <div class="slr-right-summary">
                <details class="slr-right-accordion">
                    <summary class="slr-right-accordion-summary">Description</summary>
                    <div class="slr-right-accordion-content">
                        <p>
                            {{ product.description | strip_html | truncatewords: 50 }}
                        </p>
                    </div>
                </details>
                <details class="slr-right-accordion">
                    <summary class="slr-right-accordion-summary">Key Ingredients</summary>
                    <div class="slr-right-accordion-content">
                        <p>
                            {{ product.description | strip_html | truncatewords: 50 }}
                        </p>
                    </div>
                </details>
                <details class="slr-right-accordion">
                    <summary class="slr-right-accordion-summary">Features & Benefits</summary>
                    <div class="slr-right-accordion-content">
                        <p>
                            {{ product.description | strip_html | truncatewords: 50 }}
                        </p>
                    </div>
                </details>
            </div>
            <div class="slr-right-share">
                <span class="slr-right-share-label">Share:</span>
                <a href="#" class="button-social js-social-share" data-share-title="Balancing Acne Toner"
                   data-share-url="https://allure-demo-skin.myshopify.com/products/balancing-acne-toner-1"
                   data-input-fallback="share-input-template--25330782175562__product-template" aria-label="Share">

                    <svg class="icon icon-social" aria-hidden="true" focusable="false" width="24" height="24"
                         viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18 22C19.6569 22 21 20.6569 21 19C21 17.3431 19.6569 16 18 16C16.3431 16 15 17.3431 15 19C15 20.6569 16.3431 22 18 22Z"
                              stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                              stroke-linejoin="round"></path>
                        <path d="M6 15C7.65685 15 9 13.6569 9 12C9 10.3431 7.65685 9 6 9C4.34315 9 3 10.3431 3 12C3 13.6569 4.34315 15 6 15Z"
                              stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                              stroke-linejoin="round"></path>
                        <path d="M8.58984 13.5098L15.4198 17.4898" stroke="currentColor" stroke-width="1.5"
                              stroke-linecap="round" stroke-linejoin="round"></path>
                        <path d="M18 8C19.6569 8 21 6.65685 21 5C21 3.34315 19.6569 2 18 2C16.3431 2 15 3.34315 15 5C15 6.65685 16.3431 8 18 8Z"
                              stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                              stroke-linejoin="round"></path>
                        <path d="M15.4098 6.50977L8.58984 10.4898" stroke="currentColor" stroke-width="1.5"
                              stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>

                </a>
                <a class="button-social" target="_blank" rel="nofollow"
                   href="https://www.facebook.com/sharer/sharer.php?u=allure-demo-skin.myshopify.com/products/balancing-acne-toner-1&amp;amp;src=sdkpreparse"
                   aria-label="Share on Facebook">


                    <svg class="icon icon-social" aria-hidden="true" focusable="false" width="24" height="24"
                         viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15.1194 5.32003H16.9994V2.14003C16.0891 2.04538 15.1745 1.99865 14.2594 2.00003C11.5394 2.00003 9.67938 3.66003 9.67938 6.70003V9.32003H6.60938V12.88H9.67938V22H13.3594V12.88H16.4194L16.8794 9.32003H13.3594V7.05003C13.3594 6.00003 13.6394 5.32003 15.1194 5.32003Z"
                              fill="currentColor"></path>
                    </svg>


                </a><a class="button-social" target="_blank" rel="nofollow"
                       href="https://twitter.com/intent/tweet?text=Balancing Acne Toner&amp;url=allure-demo-skin.myshopify.com/products/balancing-acne-toner-1"
                       aria-label="Share on X (Twitter)">


                    <svg class="icon icon-social" aria-hidden="true" focusable="false" width="24" height="24"
                         viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1.05364 2L9.54759 13.0312L1 22H2.92372L10.4071 14.1477L16.4535 22H23L14.0281 10.3483L21.9842 2H20.0605L13.1686 9.23185L7.60013 2H1.05364ZM3.88261 3.37634H6.89009L20.1706 20.6235H17.1631L3.88261 3.37634Z"
                              fill="currentColor"></path>
                    </svg>


                </a><a class="button-social" target="_blank" rel="nofollow"
                       href="http://pinterest.com/pin/create/button/?url=https://allure-demo-skin.myshopify.com/products/balancing-acne-toner-1&amp;description=Balancing Acne Toner"
                       aria-label="Share on Pinterest">

                    <svg class="icon icon-social" aria-hidden="true" focusable="false" width="24" height="24"
                         viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 12.0003C1 16.5047 3.70857 20.3744 7.58442 22.0757C7.55348 21.3076 7.57892 20.3854 7.77589 19.5497C7.98738 18.6567 9.19127 13.5556 9.19127 13.5556C9.19127 13.5556 8.83988 12.8533 8.83988 11.8152C8.83988 10.185 9.78467 8.96754 10.9613 8.96754C11.9619 8.96754 12.4453 9.71908 12.4453 10.619C12.4453 11.6249 11.8038 13.1294 11.4738 14.5229C11.1982 15.6898 12.0589 16.6415 13.21 16.6415C15.2942 16.6415 16.6979 13.9646 16.6979 10.793C16.6979 8.38204 15.0741 6.5775 12.1207 6.5775C8.78393 6.5775 6.7052 9.06594 6.7052 11.8455C6.7052 12.8039 6.98776 13.4798 7.43033 14.0031C7.63383 14.2435 7.66211 14.3402 7.58846 14.6162C7.53569 14.8186 7.41452 15.3059 7.36433 15.499C7.29112 15.7776 7.06536 15.8772 6.81356 15.7743C5.27666 15.1469 4.56089 13.4638 4.56089 11.5717C4.56089 8.44693 7.19624 4.7 12.4226 4.7C16.6223 4.7 19.3865 7.73914 19.3865 11.0015C19.3865 15.3167 16.9875 18.5405 13.4512 18.5405C12.2636 18.5405 11.1465 17.8985 10.7638 17.1694C10.7638 17.1694 10.1252 19.7039 9.98997 20.1933C9.75674 21.0414 9.30024 21.8891 8.88284 22.5498C9.87215 22.8418 10.9172 23.0009 12.0004 23.0009C18.0748 23.0009 23 18.0758 23 12.0003C23 5.92506 18.0748 1 12.0004 1C5.9254 1 1 5.92506 1 12.0003Z"
                              fill="currentColor"></path>
                    </svg>
                </a>
            </div>
        </div>

    </div>
</div>
<div class="slr-title">
    <h2>Balanced, Clear, Hydrated Skin</h2>
    <p>The Everyday Essentials Bundle</p>
</div>
<div class="slr-info">
    <div class="slr-info-feature">
        <h3>Hydrating Rose Water</h3>
        <div class="slr-info-feature-item">
            <img class="slr-info-feature-item-icon"
                 src="//allure-demo-skin.myshopify.com/cdn/shop/files/rose_small.png?v=1748530540" alt="" loading="lazy"
                 fetchpriority="low">
            <p>Botanical Rose Extract – Soothes and calms irritated skin</p>
        </div>
        <div class="slr-info-feature-item">
            <img class="slr-info-feature-item-icon"
                 src="//allure-demo-skin.myshopify.com/cdn/shop/files/alcohol-free_small.png?v=1748530486" alt=""
                 loading="lazy" fetchpriority="low">
            <p class="slr-info-feature-item-text">Alcohol-Free Formula – Gentle and non-drying for all skin types</p>
        </div>
        <div class="slr-info-feature-item">
            <img class="slr-info-feature-item-icon"
                 src="//allure-demo-skin.myshopify.com/cdn/shop/files/ph-balance_small.png?v=1748530379" alt=""
                 loading="lazy" fetchpriority="low">
            <p class="slr-info-feature-item-text">pH Balancing – Helps prep skin for better absorption</p>
        </div>
        <div class="slr-info-feature-item">
            <img src="//allure-demo-skin.myshopify.com/cdn/shop/files/hair-spray_small.png?v=1748530263" alt=""
                 loading="lazy" fetchpriority="low">
            <p class="slr-info-feature-item-text">Fine Mist Application – Refreshes instantly, even over makeup</p>
        </div>
    </div>
    <img class="slr-info-image"
         src="//allure-demo-skin.myshopify.com/cdn/shop/files/Bundle-2-Image_1024x1024_586x_8b8fab2b-f0f3-4944-a696-58ebcb4c75c8.jpg?v=1747390140&amp;width=800"
         srcset="//allure-demo-skin.myshopify.com/cdn/shop/files/Bundle-2-Image_1024x1024_586x_8b8fab2b-f0f3-4944-a696-58ebcb4c75c8.jpg?v=1747390140&amp;width=800 1x, //allure-demo-skin.myshopify.com/cdn/shop/files/Bundle-2-Image_1024x1024_586x_8b8fab2b-f0f3-4944-a696-58ebcb4c75c8.jpg?v=1747390140&amp;width=1600 2x"
         loading="lazy" fetchpriority="low" style="--img-focal: 50.0% 50.0%;" alt="" width="800" height="800">
</div>
<script>
    window.variants = {{ product.variants | json }};
    window.productOptions = {{ product.options_with_values | json }};
    // 获取店铺货币信息
    window.shopCurrency = {{ shop.currency | json }};
    window.shopMoneyFormat = {{ shop.money_format | json }};
</script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const quantityInput = document.getElementById('slr-quantity');
        const decreaseBtn = document.getElementById('slr-decrease-btn');
        const increaseBtn = document.getElementById('slr-increase-btn');
        const mainImage = document.getElementById('slr-main-image');
        const thumbnailBtns = document.querySelectorAll('.slr-thumbnail-btn');
        const optionInputs = document.querySelectorAll('input[name^="options["]');
        const variants = window.variants;
        const productOptions = window.productOptions || [];
        const shopCurrency = window.shopCurrency || 'USD';


        // 从产品数据结构中获取选项名称
        const optionNames = productOptions.map(option => option.name);

        // 根据货币代码获取合适的地区设置
        function getLocaleForCurrency(currencyCode) {
            const currencyLocaleMap = {
                'CNY': 'zh-CN',
                'USD': 'en-US',
                'EUR': 'de-DE',
                'GBP': 'en-GB',
                'JPY': 'ja-JP',
                'KRW': 'ko-KR',
                'HKD': 'zh-HK',
                'TWD': 'zh-TW',
                'SGD': 'en-SG',
                'AUD': 'en-AU',
                'CAD': 'en-CA'
            };
            return currencyLocaleMap[currencyCode] || 'en-US';
        }

        // 创建货币格式化器
        const currencyFormatter = new Intl.NumberFormat(getLocaleForCurrency(shopCurrency), {
            style: 'currency',
            currency: shopCurrency,
            minimumFractionDigits: 2,
            maximumFractionDigits: 2
        });

        // 格式化价格的辅助函数
        function formatPrice(priceInCents) {
            const priceInUnits = priceInCents / 100;
            return currencyFormatter.format(priceInUnits);
        }

        let currentImageIndex = 0;
        const images = Array.from(thumbnailBtns).map(btn => ({
            src: btn.dataset.image,
            alt: btn.dataset.alt
        }));

        // 缩略图hover事件
        thumbnailBtns.forEach((btn, index) => {
            // 添加hover事件
            btn.addEventListener('mouseenter', function () {
                currentImageIndex = index;
                mainImage.src = images[index].src;
                mainImage.alt = images[index].alt;
                updateThumbnailSelection();
            });

            btn.addEventListener('mouseleave', function () {
            });
        });

        function updateThumbnailSelection() {
            thumbnailBtns.forEach((btn, index) => {
                if (index === currentImageIndex) {
                    btn.classList.add('locked');
                } else {
                    btn.classList.remove('locked');
                }
            });
        }

        // 数量控制
        decreaseBtn.addEventListener('click', function () {
            let value = parseInt(quantityInput.value);
            if (value > 1) {
                quantityInput.value = value - 1;
            }
        });

        increaseBtn.addEventListener('click', function () {
            let value = parseInt(quantityInput.value);
            quantityInput.value = value + 1;
        });

        quantityInput.addEventListener('change', function () {
            if (this.value < 1) this.value = 1;
        });

        // 监听选项变化，切换变体图片和价格
        optionInputs.forEach(input => {
            input.addEventListener('change', function () {
                console.log('选项变化');
                updateVariantImage();
            });
        });

        function updateVariantImage() {
            // 获取当前所有选中的值
            const selectedOptions = {};
            optionInputs.forEach(input => {
                if (input.checked) {
                    const name = input.name.match(/options\[(.+)\]/)[1];
                    selectedOptions[name] = input.value;
                }
            });

            // 找到匹配的变体
            const matchedVariant = variants.find(variant => {
                return variant.options.every((opt, idx) => {
                    const optionName = optionNames[idx];
                    console.log(optionName, opt, selectedOptions[optionName]);
                    return selectedOptions[optionName] === opt;
                });
            });

            // 更新价格和图片
            if (matchedVariant) {
                updatePrice(matchedVariant);

                // 如果有变体特定图片，切换主图
                if (matchedVariant.featured_image && matchedVariant.featured_image.src) {
                    // 正确处理URL参数
                    const baseUrl = matchedVariant.featured_image.src;
                    const separator = baseUrl.includes('?') ? '&' : '?';
                    mainImage.src = baseUrl + separator + 'width=800&height=800';
                    mainImage.alt = matchedVariant.featured_image.alt || '';

                    // 更新缩略图选择状态 - 找到对应的缩略图并选中
                    const variantImageSrc = matchedVariant.featured_image.src;
                    let foundThumbnail = false;

                    thumbnailBtns.forEach((btn, index) => {
                        const btnImageSrc = btn.dataset.image;
                        if (btnImageSrc && btnImageSrc.includes(variantImageSrc.split('?')[0])) {
                            currentImageIndex = index;
                            foundThumbnail = true;
                        }
                    });

                    // 如果没找到对应的缩略图，保持当前选择
                    if (!foundThumbnail) {
                        // 可以选择不更新currentImageIndex，或者设置为第一个
                        // currentImageIndex = 0;
                    }

                    updateThumbnailSelection();
                }
            }
        }

        // 更新价格显示
        function updatePrice(variant) {
            const currentPriceEl = document.getElementById('slr-current-price');
            const comparePriceEl = document.getElementById('slr-compare-price');
            const priceContainer = document.getElementById('slr-price-container');

            if (currentPriceEl) {
                // 使用原生货币格式化
                currentPriceEl.textContent = formatPrice(variant.price);
            }

            // 处理对比价格
            if (variant.compare_at_price && variant.compare_at_price > variant.price) {
                if (comparePriceEl) {
                    comparePriceEl.textContent = formatPrice(variant.compare_at_price);
                    comparePriceEl.style.display = 'block';
                }
            } else {
                if (comparePriceEl) {
                    comparePriceEl.style.display = 'none';
                }
            }
        }

        // 初始化锁定状态
        updateThumbnailSelection();

        // 初始化变体选择
        updateVariantImage();


        // 获取当前选中的变体ID
        function getCurrentVariantId() {
            const selectedOptions = {};
            optionInputs.forEach(input => {
                if (input.checked) {
                    const name = input.name.match(/options\[(.+)\]/)[1];
                    selectedOptions[name] = input.value;
                }
            });

            const matchedVariant = variants.find(variant => {
                return variant.options.every((opt, idx) => {
                    const optionName = optionNames[idx];
                    return selectedOptions[optionName] === opt;
                });
            });

            return matchedVariant ? matchedVariant.id : {{ product.selected_or_first_available_variant.id }};
        }

        // 获取当前数量
        function getCurrentQuantity() {
            return parseInt(quantityInput.value) || 1;
        }

        // 立即购买功能
        document.getElementById('slr-buy-now-btn').addEventListener('click', function () {
            const variantId = getCurrentVariantId();
            const quantity = getCurrentQuantity();

            fetch('/cart/add.js', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({id: variantId, quantity: quantity})
            })
                .then(function () {
                    window.location.href = '/checkout';
                })
                .catch(function (error) {
                    console.error('立即购买失败:', error);
                });
        });

        // 加入购物车功能
        document.getElementById('slr-add-to-cart-btn').addEventListener('click', function () {
            const variantId = getCurrentVariantId();
            const quantity = getCurrentQuantity();
            const button = this;
            const originalText = button.textContent;

            fetch('/cart/add.js', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({id: variantId, quantity: quantity})
            })
                .then(function (response) {
                    if (response.ok) {
                        return response.json();
                    } else {
                        throw new Error('添加失败');
                    }
                })
                .then(function (data) {
                    console.log('商品已加入购物车:', data);
                    // 只改变文字
                    button.textContent = '{{ settings.added_to_cart_text | default: "✔️Added" }}';

                    // 3秒后还原
                    setTimeout(function () {
                        button.textContent = originalText;
                    }, 3000);
                })
                .catch(function (error) {
                    console.error('加入购物车失败:', error);
                });
        });
    });
</script>
</body>

</html>